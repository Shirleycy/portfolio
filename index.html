<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>許家毓 (Shirley Hsu) - 軟體工程師作品集</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #0a192f;
            color: #ccd6f6;
        }
        .section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-top: 80px;
            padding-bottom: 80px;
        }
        .glass-effect {
            background: rgba(23, 42, 71, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-link.active {
            color: #64ffda;
            transform: scale(1.1);
        }
        .nav-link {
            transition: all 0.3s ease;
        }
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .tech-tag {
            background-color: #112240;
            color: #64ffda;
            padding: 4px 12px;
            border-radius: 9999px;
            font-size: 0.8rem;
            font-weight: 500;
            display: inline-block;
            margin: 4px;
            border: 1px solid #64ffda;
        }
        /* Chat styles */
        .chat-bubble {
            max-width: 75%;
            padding: 10px 15px;
            border-radius: 1.25rem;
        }
        .user-bubble {
            background-color: #64ffda;
            color: #0a192f;
            border-bottom-right-radius: 0.25rem;
        }
        .ai-bubble {
            background-color: #112240;
            color: #ccd6f6;
            border-bottom-left-radius: 0.25rem;
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #64ffda;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body class="leading-relaxed">

    <!-- Header & Navigation -->
    <header class="fixed top-0 left-0 right-0 z-50 glass-effect">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#hero" class="text-2xl font-bold text-[#64ffda]">SH</a>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#about" class="nav-link text-lg hover:text-[#64ffda]">關於我</a>
                <a href="#education" class="nav-link text-lg hover:text-[#64ffda]">教育經歷</a>
                <a href="#experience" class="nav-link text-lg hover:text-[#64ffda]">工作經歷</a>
                <a href="#skills" class="nav-link text-lg hover:text-[#64ffda]">核心技術</a>
                <a href="#projects" class="nav-link text-lg hover:text-[#64ffda]">精選專案</a>
                <a href="#contact" class="nav-link text-lg hover:text-[#64ffda]">聯絡方式</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-white">
                <i data-lucide="menu"></i>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-[#112240] p-4">
            <a href="#about" class="block py-2 text-center text-lg hover:text-[#64ffda]">關於我</a>
            <a href="#education" class="nav-link text-lg hover:text-[#64ffda]">教育經歷</a>
            <a href="#experience" class="block py-2 text-center text-lg hover:text-[#64ffda]">工作經歷</a>
            <a href="#skills" class="block py-2 text-center text-lg hover:text-[#64ffda]">核心技術</a>
            <a href="#projects" class="block py-2 text-center text-lg hover:text-[#64ffda]">精選專案</a>
            <a href="#contact" class="block py-2 text-center text-lg hover:text-[#64ffda]">聯絡方式</a>
        </div>
    </header>

    <main class="container mx-auto px-6 md:px-12">

        <!-- Hero Section -->
        <section id="hero" class="section">
            <div class="max-w-3xl">
                <p class="text-xl text-[#64ffda] mb-4">許家毓 (Shirley Hsu)</p>
                <h1 class="text-xl md:text-4xl font-bold text-slate-200 mb-4 whitespace-nowrap">統計 x 資工 跨領域人才</h1>
                <h2 class="text-xl md:text-2xl font-bold text-slate-400 mb-8">資料工程 | 機器學習 | 系統設計 | 金融科技</h2>
                <p class="text-lg text-slate-400 max-w-xl mb-12">
                    我致力於成為一名以工程實作為核心的軟體工程師，專注於將數據洞察轉化為產品價值，為團隊帶來創新的技術思維與貢獻。
                </p>
                <a href="#projects" class="bg-[#64ffda] text-[#0a192f] font-bold py-4 px-8 rounded-lg hover:bg-opacity-80 transition-colors">
                    查看我的專案
                </a>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section fade-in-section">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-slate-200 mb-8 flex items-center">
                    <span class="text-[#64ffda] mr-4">01.</span> 關於我
                    <span class="flex-grow h-px bg-slate-700 ml-4"></span>
                </h2>
                <div class="grid md:grid-cols-5 gap-12">
                    <div class="md:col-span-3 text-slate-400 text-lg space-y-4">
                        <p>我剛取得長庚大學資訊工程碩士學位，我的專業背景結合了 Python、SQL 與 C++ 的扎實軟體開發技能，以及對機器學習、統計建模深入理解。</p>
                        <p>在學術研究與實務工作中，我主導過多項專案，從處理百萬級犯罪研究資料庫，到開發自動化股票交易系統，這些經驗不僅讓我精進了數據工程與後端開發能力，更培養了我跨團隊溝通與解決問題的能力。</p>
                    </div>
                    <div class="md:col-span-2 flex justify-center items-center">
                        <div class="w-64 h-64 rounded-full bg-[#112240] border-4 border-[#64ffda] flex items-center justify-center overflow-hidden">
                            <img src="./images/photo.jpg" alt="許家毓個人照片" class="w-full h-full object-cover" width="256" height="256" loading="eager" decoding="async"/>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Education Section -->
        <section id="education" class="section fade-in-section">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold text-slate-200 mb-12 flex items-center">
            <span class="text-[#64ffda] mr-4">05.</span> 教育經驗
            <span class="flex-grow h-px bg-slate-700 ml-4"></span>
            </h2>
            <div class="relative border-l-2 border-slate-700 pl-8 space-y-12">
      
        <!-- Timeline Item 1 -->
        <div class="relative">
            <div class="absolute -left-10 top-1 w-4 h-4 bg-[#64ffda] rounded-full"></div>
            <p class="text-sm text-[#64ffda]">2023/02 - 2025/08</p>
            <h3 class="text-xl font-bold text-slate-200">資訊工程碩士 長庚大學</h3>
            <ul class="text-slate-400 mt-2 list-disc list-inside space-y-1">
            <li>專攻課程：機器學習、雲端系統、系統效能分析、樣型識別</li>
            <li>相關技能：熟練 Python 進行數據處理、分析與機器學習模型開發，擅長 SQL 資料庫管理與查詢分析。</li>
            </ul>
        </div>

        <!-- Timeline Item 2 -->
        <div class="relative">
            <div class="absolute -left-10 top-1 w-4 h-4 bg-[#64ffda] rounded-full"></div>
            <p class="text-sm text-[#64ffda]">2015/09 - 2019/06</p>
            <h3 class="text-xl font-bold text-slate-200">統計學學士 淡江大學</h3>
            <ul class="text-slate-400 mt-2 list-disc list-inside space-y-1">
            <li>相關技能：使用 R 語言進行數據分析與Tableau視覺化，在不同領域運用統計分析方法。</li>
            </ul>
        </div>
    </div>
  </div>
</section>

        <!-- Experience Section -->
        <section id="experience" class="section fade-in-section">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold text-slate-200 mb-12 flex items-center">
            <span class="text-[#64ffda] mr-4">04.</span> 工作經歷
            <span class="flex-grow h-px bg-slate-700 ml-4"></span>
            </h2>
            <div class="relative border-l-2 border-slate-700 pl-8 space-y-12">
            
            <!-- Timeline Item 1 -->
            <div class="relative">
                <div class="absolute -left-10 top-1 w-4 h-4 bg-[#64ffda] rounded-full"></div>
                <p class="text-sm text-[#64ffda]">2023/07 - 2023/12</p>
                <h3 class="text-xl font-bold text-slate-200">研究助理 長庚大學</h3>
                <ul class="text-slate-400 mt-2 list-disc list-inside space-y-1">
                <li>Python自動化：開發自動化流程，透過永豐金證券API串接，實現台股即時資料擷取與自動下單。</li>
                <li>資料處理與分析：熟練運用Pandas、Numpy、Scikit-learn進行高效的資料處理、技術指標嵌入與模型前處理。</li>
                <li>資料庫與報表系統：建立SQL資料庫與Tableau視覺化報表系統，優化資料管理與分析效率。</li>
                <li>機器學習與模型優化：運用機器學習模型進行股票預測，並透過參數優化顯著提升預測準確度與報酬率，有效降低模型誤差。</li>
                <li>發表於IEEE會議論文Conference on Progress in Informatics and Computing （PIC）。</li>
                </ul>
            </div>

            <!-- Timeline Item 2 -->
            <div class="relative">
                <div class="absolute -left-10 top-1 w-4 h-4 bg-[#64ffda] rounded-full"></div>
                <p class="text-sm text-[#64ffda]">2021/03 - 2023/01</p>
                <h3 class="text-xl font-bold text-slate-200">專案研究人員 法務部司法官學院</h3>
                <ul class="text-slate-400 mt-2 list-disc list-inside space-y-1">
                <li>以 SQL 處理犯罪防治研究資料庫 871 萬筆資料，完成清理與特徵整理、建置統計模型，並以存活分析比較不同族群再犯風險。</li>
                <li>以 Python 建置爬蟲關鍵字／商家資料庫，解析動態頁面與資料清洗，輸出預警清單協助單位提前部署。</li>
                <li>期刊發表於 SSCI 收錄的International Journal of Mental Health and Addiction，本領域具影響力前25％的期刊。</li>
                </ul>
            </div>

            <!-- Timeline Item 3 -->
            <div class="relative">
                <div class="absolute -left-10 top-1 w-4 h-4 bg-[#64ffda] rounded-full"></div>
                <p class="text-sm text-[#64ffda]">2020/03 - 2021/03</p>
                <h3 class="text-xl font-bold text-slate-200">統計研究員 新北市政府主計處</h3>
                <ul class="text-slate-400 mt-2 list-disc list-inside space-y-1">
                <li>建置公務行政系統之統計資料庫查詢系統，以Tableau製作外網視覺化統計圖表。</li>
                <li>擔任新北市消費者暨營造工程物價審核員，擔任督導工作並審核物價漲跌原因。</li>
                <li>擔任行政院人口及住宅普查之審核員，與主責單位聯絡、協調並督導普查員及監督進程。</li>
                </ul>
            </div>

            <!-- Timeline Item 4 -->
            <div class="relative">
                <div class="absolute -left-10 top-1 w-4 h-4 bg-[#64ffda] rounded-full"></div>
                <p class="text-sm text-[#64ffda]">2019/07 - 2020/03</p>
                <h3 class="text-xl font-bold text-slate-200">研究員 CRIF TAIWAN 中華徵信所</h3>
                <ul class="text-slate-400 mt-2 list-disc list-inside space-y-1">
                <li>專案管理：負責管理專案，項目涵蓋專案控管、時程安排及跨部門溝通協調。</li>
                <li>對外協商：對接海內外客戶，聽取客戶需求，為客戶解決問題並提供附加服務。</li>
                <li>市場調查：蒐集分析市場情報，研究產業發展情況、評估市場規模、製作統計圖表。</li>
                <li>產業報告：撰寫量化與質化產業報告，涵蓋私人企業、政府單位及海外知名企業等。</li>
                </ul>
            </div>

            </div>
        </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="section fade-in-section">
             <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-slate-200 mb-12 flex items-center">
                    <span class="text-[#64ffda] mr-4">02.</span> 核心技術
                    <span class="flex-grow h-px bg-slate-700 ml-4"></span>
                </h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-slate-200 mb-4 flex items-center"><i data-lucide="code-2" class="mr-2 text-[#64ffda]"></i>程式語言</h3>
                        <div class="flex flex-wrap">
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">SQL</span>
                            <span class="tech-tag">C++</span>
                            <span class="tech-tag">R</span>
                        </div>
                    </div>
                    <div class="glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-slate-200 mb-4 flex items-center"><i data-lucide="brain-circuit" class="mr-2 text-[#64ffda]"></i>機器學習</h3>
                         <div class="flex flex-wrap">
                            <span class="tech-tag">Scikit-learn</span>
                            <span class="tech-tag">PyTorch</span>
                            <span class="tech-tag">TensorFlow</span>
                            <span class="tech-tag">Pandas</span>
                            <span class="tech-tag">Numpy</span>
                        </div>
                    </div>
                    <div class="glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-slate-200 mb-4 flex items-center"><i data-lucide="database" class="mr-2 text-[#64ffda]"></i>資料庫</h3>
                         <div class="flex flex-wrap">
                            <span class="tech-tag">MySQL</span>
                            <span class="tech-tag">PostgreSQL</span>
                        </div>
                    </div>
                    <div class="glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-slate-200 mb-4 flex items-center"><i data-lucide="bar-chart-3" class="mr-2 text-[#64ffda]"></i>視覺化</h3>
                         <div class="flex flex-wrap">
                            <span class="tech-tag">Tableau</span>
                        </div>
                    </div>
                     <div class="glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-slate-200 mb-4 flex items-center"><i data-lucide="git-branch" class="mr-2 text-[#64ffda]"></i>開發工具</h3>
                         <div class="flex flex-wrap">
                            <span class="tech-tag">GitHub</span>
                            <span class="tech-tag">Visual Studio Code</span>
                        </div>
                    </div>
                    <div class="glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-slate-200 mb-4 flex items-center"><i data-lucide="award" class="mr-2 text-[#64ffda]"></i>專業認證</h3>
                         <div class="flex flex-wrap">
                            <span class="tech-tag">CPE 大學程式能力檢定</span>
                            <span class="tech-tag">Python 網頁資料擷取</span>
                            <span class="tech-tag">Excel Microsoft Office Specialist Excel Expert 2019</span>
                            <span class="tech-tag">Excel TQC-OA</span>
                            <span class="tech-tag">Tableau - Tableau Desktop</span>   
                        </div>
                    </div>
                    <div class="glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-slate-200 mb-4 flex items-center"><i data-lucide="award" class="mr-2 text-[#64ffda]"></i>學術成就</h3>
                         <div class="flex flex-wrap">
                            <span class="tech-tag">國際會議論文IEEE PIC (Conference on Progress in Informatics and Computing)</span>
                            <span class="tech-tag">SSCI 期刊International Journal of Mental Health and Addiction (領域排名前 25%)</span> 
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="section fade-in-section">
            <div class="max-w-5xl mx-auto">
                <h2 class="text-3xl font-bold text-slate-200 mb-12 flex items-center">
                    <span class="text-[#64ffda] mr-4">03.</span> 精選專案
                    <span class="flex-grow h-px bg-slate-700 ml-4"></span>
                </h2>
                <div class="space-y-16">
                    <!-- Project 1 -->
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div class="order-2 md:order-1">
                            <p class="text-[#64ffda] mb-2">金融科技與自動化交易</p>
                            <h3 class="text-2xl font-bold text-slate-200 mb-4">利用格蘭傑因果分析建構圖神經網路(GNN)與強化學習(RL)提升股市預測</h3>
                            <div class="glass-effect p-6 rounded-lg mb-4">
                            <ul class="text-slate-400 list-disc list-inside space-y-3">
                                <li>
                                <span class="font-semibold text-slate-300">專案動機：</span>
                                傳統模型難以捕捉股市的非線性動態關係，本專案旨在利用圖神經網路 (GCN) 提升預測準確性。
                                </li>
                                <li>
                                <span class="font-semibold text-slate-300">技術實現：</span>
                                <ul class="list-disc list-inside ml-6 space-y-2">
                                    <li><span class="font-semibold">自動化交易流程：</span> 開發 Python 自動化腳本，實現台股即時資料擷取、模型預測與自動下單。</li>
                                    <li><span class="font-semibold">資料工程：</span> 每日自動化清洗與爬取股價資料，並建置 SQL 資料庫進行高效能管理與查詢。</li>
                                    <li><span class="font-semibold">模型建置：</span> 運用 PyTorch 訓練圖神經網路 (GCN)，將漲跌機率輸出轉換為「買/賣/觀望」的交易決策。</li>
                                </ul>
                                </li>
                                <li>
                                <span class="font-semibold text-slate-300">亮點成就：</span>
                                <ul class="list-disc list-inside ml-6 space-y-2">
                                    <li>成功建構一套從資料擷取、模型預測到自動交易的自動化系統。</li>
                                    <li>驗證了 GCN 模型在捕捉市場非線性關係上的潛力，研究成果獲 IEEE PIC 國際會議接受並發表。</li>
                                </ul>
                                </li>
                            </ul>
                            </div>
                            <div class="flex flex-wrap mb-4">
                                <span class="tech-tag">Python</span>
                                <span class="tech-tag">PyTorch</span>
                                <span class="tech-tag">GNN</span>
                                <span class="tech-tag">API整合</span>
                                <span class="tech-tag">SQL</span>
                            </div>
                            <div class="flex items-center space-x-4">
                                <a href="#" class="text-[#64ffda] hover:underline" title="研究成果已獲 IEEE PIC 國際會議接受並發表">
                                    <i data-lucide="book-open" class="inline"></i> IEEE PIC 發表
                                </a>
                            </div>
                        </div>
                        <div class="order-1 md:order-2">
                             <img src="./images/flowchart.png" alt="金融科技專案示意圖" class="rounded-lg shadow-lg">
                        </div>
                    </div>

                    <!-- Project 2 -->
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div class="order-1">
                             <img src="./images/survival.png" alt="大數據專案示意圖" class="rounded-lg shadow-lg">
                        </div>
                        <div class="order-2">
                            <p class="text-[#64ffda] mb-2">大數據處理與分析</p>
                            <h3 class="text-2xl font-bold text-slate-200 mb-4">百萬級犯罪資料庫處理與再犯風險預測模型</h3>
                        <div class="glass-effect p-6 rounded-lg mb-4">
                        <ul class="text-slate-400 list-disc list-inside space-y-3">
                            <li>
                            <span class="font-semibold text-slate-300">專案動機：</span>
                            針對推行近二十年的戒癮治療政策，缺乏中長期的量化成效評估，本研究旨在填補此缺口。
                            </li>

                            <li>
                            <span class="font-semibold text-slate-300">技術實現：</span>
                            <ul class="list-disc list-inside ml-6 space-y-2">
                                <li><span class="font-semibold">大規模資料處理：</span> 在 <strong>871 萬筆</strong> 犯罪資料庫中，以 SQL 進行條件篩選、清理、去識別化與特徵工程。</li>
                                <li><span class="font-semibold">統計建模：</span> 應用 Kaplan-Meier 與 Cox 比例風險模型，量化並比較不同群體的再犯風險，為政策提供資料支持。</li>
                                <li><span class="font-semibold">資料擴充：</span> 開發 Python 爬蟲蒐集公開網拍平台交易資料，建立預警清單以補足官方資料的不足。</li>
                            </ul>
                            </li>

                            <li>
                            <span class="font-semibold text-slate-300">亮點成就：</span>
                            <ul class="list-disc list-inside ml-6 space-y-2">
                                <li>處理近千萬筆級別大型資料庫的能力，從資料前處理、特徵工程到統計建模。</li>
                                <li>成功發表於該領域排名前 25% 的 SSCI 期刊。</li>
                            </ul>
                            </li>
                        </ul>
                        </div>

                             <div class="flex flex-wrap mb-4">
                                <span class="tech-tag">SQL</span>
                                <span class="tech-tag">Python</span>
                                <span class="tech-tag">存活分析</span>
                                <span class="tech-tag">網路爬蟲</span>
                                <span class="tech-tag">統計建模</span>
                            </div>
                            <div class="flex items-center space-x-4">
                                <a href="#" class="text-[#64ffda] hover:underline" title="研究成果發表於該領域排名前25%的SSCI期刊">
                                    <i data-lucide="book-open" class="inline"></i> SSCI 期刊發表
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        



        <!-- Contact Section -->
        <section id="contact" class="section fade-in-section">
            <div class="max-w-2xl mx-auto text-center">
                <h2 class="text-3xl font-bold text-slate-200 mb-4">與我聯絡</h2>
                <p class="text-slate-400 mb-8 text-lg">
                    我的職涯目標是成為一名軟體工程師，並持續深化在軟體開發與系統設計領域的專業能力。我相信我豐富的實務經驗與快速的學習能力，將能為貴公司的專案帶來實質貢獻，並與團隊共同成長。
                </p>
                <div class="flex justify-center items-center space-x-6 text-lg mb-8">
                    <div class="flex items-center">
                        <i data-lucide="mail" class="mr-2 text-[#64ffda]"></i>
                        <span>shirley51429@gmail.com</span>
                    </div>
                    <div class="flex items-center">
                        <i data-lucide="phone" class="mr-2 text-[#64ffda]"></i>
                        <span>0988-397-199</span>
                    </div>
                </div>
                <a href="mailto:shirley51429@gmail.com" class="bg-[#64ffda] text-[#0a192f] font-bold py-4 px-8 rounded-lg hover:bg-opacity-80 transition-colors">
                    寄送郵件
                </a>
            </div>
        </section>

    </main>

    <footer class="text-center py-8 text-slate-500">
        <p>由許家毓設計與建置，並由 Gemini AI 賦能</p>
    </footer>

    <script>
        lucide.createIcons();

        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu on link click
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // Intersection Observer for fade-in animations
        const sections = document.querySelectorAll('.fade-in-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, {
            threshold: 0.1
        });
        sections.forEach(section => {
            observer.observe(section);
        });

        // Active nav link highlighting
        const navLinks = document.querySelectorAll('nav a.nav-link');
        const allSections = document.querySelectorAll('section');

        const navObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href').substring(1) === entry.target.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, {
            rootMargin: '-50% 0px -50% 0px'
        });

        allSections.forEach(section => {
            navObserver.observe(section);
        });

        // --- Gemini AI Chatbot Logic ---
        const chatWindow = document.getElementById('chat-window');
        const chatInput = document.getElementById('chat-input');
        const sendButton = document.getElementById('send-button');

        const resumeContext = `
            許家毓 (Shirley Hsu) 的履歷摘要：
            - 職位目標：軟體工程師
            - 學歷：長庚大學資訊工程碩士，淡江大學統計學士。
            - 核心技能：Python, SQL, C++, 機器學習 (Scikit-learn, PyTorch, TensorFlow), 資料庫 (MySQL, PostgreSQL), 視覺化 (Tableau), Git & GitHub。
            - 專案經驗 1 (金融科技)：開發了一套利用強化學習(RL)和圖神經網路(GNN)提升股市預測的端對端自動化交易系統。串接券商API，使用Python和PyTorch。成果發表於IEEE PIC國際會議。
            - 專案經驗 2 (大數據)：主導一項基於871萬筆記錄的犯罪防治資料庫專案。運用SQL進行資料清理與特徵工程，並建立統計模型進行存活分析。成果發表於SSCI期刊。
            - 工作經歷 (研究助理 @ 長庚大學)：獨立建置證券分析與自動化交易系統。
            - 工作經歷 (專案研究人員 @ 法務部司法官學院)：主導871萬筆犯罪資料庫專案，開發Python爬蟲系統。
            - 工作經歷 (統計研究員 @ 新北市政府主計處)：建置統計資料庫查詢系統，使用Tableau製作視覺化圖表。
            - 個人特質：以工程實作為核心，樂於跨團隊溝通，享受將數據洞察轉化為產品價值。
        `;

        const systemPrompt = `你是許家毓(Shirley)履歷的AI面試官。請根據以下提供的履歷摘要，專業且簡潔地回答問題。你的回答必須完全基於履歷內容。如果問題無法從摘要中回答，請禮貌地表示資訊不足。請用繁體中文回答。\n\n履歷摘要:\n${resumeContext}\n`;

        async function callGeminiAPI(prompt, retries = 3, delay = 1000) {
            const fullPrompt = systemPrompt + "問題：" + prompt;
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: fullPrompt }] });
            const payload = { contents: chatHistory };
            const apiKey = ""; // API key is handled by the environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    if (response.status === 429 && retries > 0) {
                        await new Promise(res => setTimeout(res, delay));
                        return callGeminiAPI(prompt, retries - 1, delay * 2);
                    }
                    throw new Error(`API 請求失敗，狀態碼：${response.status}`);
                }

                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    return "抱歉，我無法處理您的請求，請稍後再試。";
                }
            } catch (error) {
                console.error("Gemini API 呼叫失敗:", error);
                if (retries > 0) {
                    await new Promise(res => setTimeout(res, delay));
                    return callGeminiAPI(prompt, retries - 1, delay * 2);
                }
                return "抱歉，連線時發生錯誤，請檢查您的網路連線或稍後再試。";
            }
        }

        function appendMessage(message, sender) {
            const messageWrapper = document.createElement('div');
            messageWrapper.classList.add('flex', sender === 'user' ? 'justify-end' : 'justify-start');
            
            const messageElement = document.createElement('div');
            messageElement.classList.add('chat-bubble', sender === 'user' ? 'user-bubble' : 'ai-bubble');
            messageElement.innerHTML = `<p>${message}</p>`; // Use innerHTML to render potential markdown
            
            messageWrapper.appendChild(messageElement);
            chatWindow.appendChild(messageWrapper);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        function showTypingIndicator() {
            const typingWrapper = document.createElement('div');
            typingWrapper.id = 'typing-indicator';
            typingWrapper.classList.add('flex', 'justify-start');
            typingWrapper.innerHTML = `
                <div class="chat-bubble ai-bubble">
                    <div class="typing-indicator">
                        <span></span><span></span><span></span>
                    </div>
                </div>
            `;
            chatWindow.appendChild(typingWrapper);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        async function handleSendMessage() {
            const userInput = chatInput.value.trim();
            if (userInput === "") return;

            appendMessage(userInput, 'user');
            chatInput.value = "";
            sendButton.disabled = true;
            showTypingIndicator();

            const aiResponse = await callGeminiAPI(userInput);
            
            hideTypingIndicator();
            appendMessage(aiResponse, 'ai');
            sendButton.disabled = false;
        }

        sendButton.addEventListener('click', handleSendMessage);
        chatInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                handleSendMessage();
            }
        });

    </script>
</body>
</html>
